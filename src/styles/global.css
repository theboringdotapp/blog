@import "tailwindcss";

@plugin '@tailwindcss/typography';

@custom-variant dark (&:is(.dark *));

@theme {
  --font-sans:
    Geist Sans, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono:
    Geist Mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;

  /* Modern color palette inspired by Linear/GitHub */
  --color-brand-50: #f8fafc;
  --color-brand-100: #f1f5f9;
  --color-brand-200: #e2e8f0;
  --color-brand-300: #cbd5e1;
  --color-brand-400: #94a3b8;
  --color-brand-500: #64748b;
  --color-brand-600: #475569;
  --color-brand-700: #334155;
  --color-brand-800: #1e293b;
  --color-brand-900: #0f172a;

  /* Accent colors for interactive elements */
  --color-accent-purple: #8b5cf6;
  --color-accent-blue: #3b82f6;
  --color-accent-emerald: #10b981;
  --color-accent-rose: #f43f5e;
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

@layer utilities {
  html {
    overflow-y: auto;
    color-scheme: light;
    scroll-padding-top: 100px;
    scroll-behavior: smooth;
  }

  html.dark {
    color-scheme: dark;
  }

  html,
  body {
    @apply size-full;
  }

  body {
    @apply font-sans antialiased;
    @apply flex flex-col;
    /* Modern gradient backgrounds */
    @apply via-brand-50 to-brand-100 bg-gradient-to-br from-white;
    @apply dark:from-brand-900 dark:via-brand-800 dark:to-brand-900 dark:bg-gradient-to-br;
    @apply text-brand-700 dark:text-brand-200;
    @apply transition-colors duration-500 ease-in-out;
  }

  header {
    @apply fixed top-0 right-0 left-0 z-50 py-6;
    /* Glassmorphism header */
    @apply dark:bg-brand-900/80 bg-white/80;
    @apply saturate-150 backdrop-blur-md;
    @apply border-brand-200/50 dark:border-brand-700/50 border-b;
    @apply transition-all duration-300 ease-in-out;
  }

  main {
    @apply flex-1 py-32;
    @apply relative;
  }

  footer {
    @apply py-8 text-sm;
    @apply from-brand-100/50 bg-gradient-to-t to-transparent;
    @apply dark:from-brand-800/50 dark:bg-gradient-to-t dark:to-transparent;
    @apply border-brand-200/50 dark:border-brand-700/50 border-t;
  }

  article {
    @apply prose prose-slate dark:prose-invert prose-img:mx-auto prose-img:my-auto max-w-full;
    @apply prose-headings:font-semibold prose-headings:tracking-tight;
    @apply prose-headings:text-slate-900 dark:prose-headings:text-slate-100;
    @apply prose-p:text-slate-600 dark:prose-p:text-slate-300;
    @apply prose-p:leading-relaxed;
  }
}

@layer utilities {
  article a {
    @apply font-sans text-current underline underline-offset-4;
    @apply decoration-accent-blue/40 dark:decoration-accent-purple/40;
    @apply decoration-2;
    @apply transition-all duration-300 ease-in-out;
    @apply hover:decoration-accent-blue/70 dark:hover:decoration-accent-purple/70;
    @apply hover:text-accent-blue dark:hover:text-accent-purple;
  }

  article a:hover {
    @apply decoration-accent-blue dark:decoration-accent-purple;
    @apply decoration-2;
  }
}

/* Enhanced animations inspired by Motion UI */
.animate {
  @apply -translate-y-4 opacity-0;
  @apply transition-all duration-700 ease-out;
  @apply transform-gpu;
}

.animate.show {
  @apply translate-y-0 opacity-100;
}

/* Staggered animation delays for lists */
.animate:nth-child(1) {
  transition-delay: 100ms;
}
.animate:nth-child(2) {
  transition-delay: 200ms;
}
.animate:nth-child(3) {
  transition-delay: 300ms;
}
.animate:nth-child(4) {
  transition-delay: 400ms;
}
.animate:nth-child(5) {
  transition-delay: 500ms;
}

/* Floating animation for hero elements */
@keyframes float {
  0%,
  100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-4px);
  }
}

.float {
  animation: float 6s ease-in-out infinite;
}

/* Subtle pulse for interactive elements */
@keyframes pulse-soft {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

.pulse-soft {
  animation: pulse-soft 2s ease-in-out infinite;
}

/* Modern gradient text */
.gradient-text {
  @apply from-accent-blue via-accent-purple to-accent-rose bg-gradient-to-r;
  @apply bg-clip-text text-transparent;
  @apply dark:from-accent-blue dark:via-accent-purple dark:to-accent-emerald;
}

/* Card hover effects */
.card-hover {
  @apply transition-all duration-300 ease-out;
  @apply hover:-translate-y-1 hover:scale-[1.02];
  @apply hover:shadow-brand-200/20 hover:shadow-lg;
  @apply dark:hover:shadow-brand-900/20;
  @apply transform-gpu;
}

/* Back to top button styling */
html #back-to-top {
  @apply pointer-events-none opacity-0;
  @apply transition-all duration-300 ease-out;
  @apply scale-90 transform;
}

html.scrolled #back-to-top {
  @apply pointer-events-auto opacity-100;
  @apply scale-100;
}

/* Enhanced shiki styling */
pre {
  @apply border-brand-200/50 dark:border-brand-700/50 border;
  @apply rounded-lg py-5;
  @apply from-brand-50 bg-gradient-to-br to-white;
  @apply dark:from-brand-800 dark:to-brand-900 dark:bg-gradient-to-br;
  @apply shadow-sm;
}

:root {
  --astro-code-foreground: #1e293b;
  --astro-code-background: #f8fafc;
  --astro-code-token-comment: #64748b;
  --astro-code-token-keyword: #f43f5e;
  --astro-code-token-string: #10b981;
  --astro-code-token-function: #3b82f6;
  --astro-code-token-constant: #8b5cf6;
  --astro-code-token-parameter: #06b6d4;
  --astro-code-token-string-expression: #ec4899;
  --astro-code-token-punctuation: #475569;
  --astro-code-token-link: #8b5cf6;
}

.dark {
  --astro-code-foreground: #f1f5f9;
  --astro-code-background: #0f172a;
  --astro-code-token-comment: #64748b;
  --astro-code-token-keyword: #f43f5e;
  --astro-code-token-string: #10b981;
  --astro-code-token-function: #60a5fa;
  --astro-code-token-constant: #a855f7;
  --astro-code-token-parameter: #22d3ee;
  --astro-code-token-string-expression: #f472b6;
  --astro-code-token-punctuation: #94a3b8;
  --astro-code-token-link: #a855f7;
}

/* Enhanced copy code button */
.copy-code {
  @apply absolute top-3 right-3 grid size-9 place-content-center;
  @apply border-brand-200/50 dark:border-brand-700/50 rounded-lg border;
  @apply dark:bg-brand-800/90 bg-white/90;
  @apply backdrop-blur-sm;
  @apply transition-all duration-300 ease-out;
  @apply hover:scale-110 hover:bg-white hover:shadow-md;
  @apply dark:hover:bg-brand-700 dark:hover:shadow-md;
  @apply transform-gpu;
}

.copy-code:active {
  @apply scale-95 transition-transform duration-150;
}

/* Modern focus styles */
*:focus-visible {
  @apply ring-accent-blue/50 ring-2 ring-offset-2 outline-none;
  @apply dark:ring-offset-brand-900 ring-offset-white;
  @apply dark:ring-accent-purple/50;
}

/* Logo Easter Egg Animation */
.logo-vibe-coded {
}

.logo-vibe-coded:hover {
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent !important;
  background-image: linear-gradient(
    90deg,
    #ff00aa,
    #ff0066,
    #e100ff,
    #7f00ff,
    #00c3ff,
    #00ffe1,
    #ff00aa
  );
  background-size: 200% auto;
  transition: all 0.7s ease;
  animation: textGradientShift 3s linear infinite;
  text-shadow: 0 0 5px rgba(255, 0, 170, 0.5);
}

@keyframes textGradientShift {
  0% {
    background-position: 0% center;
  }
  100% {
    background-position: 200% center;
  }
}
